---
title: 什么是 All-in-One 环境？
slug: all-in-one-env
keywords: 
  - 什么是All-in-One环境
  - 家庭All-in-One
  - ESXiAll-in-One
  - 家庭AIO搭建教程
  - 家庭All-in-One搭建教程
description: 什么是 All-in-One 环境？All-in-One 环境，又称“一体化环境”，是指在一个物理设备上通过虚拟化技术，整合多种功能和服务，实现多个系统的统一运行和管理。它特别适合家庭用户、技术爱好者或小型办公场景，可以替代多台物理设备，节省电力、空间和维护成本。
---
## 什么是家庭 AIO（All-in-One）
在家庭环境下，我们可能会有多个操作系统需求，如办公时想用 Windows 操作系统，写代码时想用 Linux 操作系统，家庭存储时又想用群晖 NAS，或你女朋友又想用其他操作系统，这样我们需要购买 **多台设备**，**每台设备需占一定物理空间，且每台设备不是实时使用**。

这就衍生出来：**能不能用一台台式机同时装多个系统并同时运行？** 答案是肯定，家庭 AIO（All-in-One）也就此顺应而生。


???+ info "提示"
    All-in-One 环境，又称“一体化环境”，是指在一个物理设备上通过虚拟化技术，整合多种功能和服务，实现多个系统的同时运行和统一管理。它特别适合家庭用户、技术爱好者或小型办公场景，可以替代多台物理设备，节省电力、空间和维护成本。

    通俗理解：一台机器，多个用途，同时运行多个系统，集中式管理。

## All-in-One 能做什么？

以下是我目前在 All-in-One 环境中已实现的功能。如果你也有类似的需求或想法，可以跟着我动手实践！

- [突破运营商对宽带的 1000M 速率限制，实现更高带宽利用率](../network/intranet.md)；
- 全家上网去广告，打造清爽无干扰的浏览体验；
- [全屋 2.5G 内网覆盖，提升局域网传输效率](../network/intranet.md#25g_3)；
- [家庭设备支持公网 IPv6 访问](../route/ipv6.md)，并通过 IPv6 转 IPv4 技术，实现任意服务的远程访问；
- 搭建家庭影音中心，集中管理影片资源，支持多终端播放；
- 构建全家共享的公共存储网盘，实现文件统一存储与便捷访问；
- 支持全家远程办公，随时随地远程家庭电脑；
- [实现“全家出国旅游”场景下的网络代理访问，模拟海外 IP 环境](../route/open-clash.md)；
- 搭建公网可访问的开发/生产服务器，满足个人项目部署需求；
- 部署 Kubernetes（K8S）服务集群，用于学习和测试容器化运维；


## 为什么选择 ESXi 搭建 All-in-One 环境？

在选择搭建 All-in-One 环境的虚拟化平台时，VMware ESXi 和 Proxmox VE (PVE) 都是主流选择，各有优劣。 VMware ESXi 和 Proxmox VE (PVE) 两个系统我都玩过，为什么选择 ESXi，我总结的原因如下：

- **稳定性**：如果用 PVE 你会发现随便动一下内存，或换个硬盘，就各种环境用不了。对稳定性要求高、希望长期运行无故障的 All-in-One 家庭服务器，建议选择 ESXi；
- **网络**：ESXi 的网络设计不得不说是一级棒，网络照顾了很多小白用户；
- **图形化管理界面**： ESXi 提供图形化管理工具，功能强大、界面专业，虽然 PVE 也有 Web 管理界面，但部分操作仍需依赖命令行，对新手不够友好；
- **硬件兼容性**：VMware 官方维护了大量驱动，对主流服务器硬件支持良好，尤其是企业级网卡、RAID 卡、GPU 等。PVE 也支持广泛硬件，但部分驱动需要手动安装或启用，DIY 成本略高；

## All-in-One 环境的常见服务角色

在 ESXi 上部署 All-in-One 环境时，可以根据需求部署以下服务角色：

| 服务类型       | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| NAS 存储服务器 | 使用 黑群晖、OpenMediaVault、FreeNAS、Unraid 等系统搭建家庭存储中心 |
| 媒体服务器     | 搭建 Plex、Jellyfin、Emby 等媒体服务器，实现家庭影音播放     |
| 开发测试平台   | 创建多个 Linux/Windows 虚拟机，用于学习、开发、测试          |
| 网络服务网关   | 部署 Pi-hole（广告过滤）、OpenWrt（软路由）、OPNsense（防火墙）等 |
| 容器平台       | 运行 Docker + Portainer，部署各类容器化应用（如 Nextcloud、AdGuardHome） |

## 硬件要求
推荐配置：至少 8GB 内存、双核 CPU、120GB SSD（系统盘）、额外硬盘用于数据存储。网络：建议千兆网卡，支持 VLAN 配置更佳。
???+ info

    需注意的是 ESXi 有网卡限制，请查阅：[Broadcom Compatibility Guide](https://compatibilityguide.broadcom.com/search?program=io&persona=live&column=brandName&order=asc)。

## All-in-One 环境的优势总结

| 优势类别   | 说明                                            |
| ---------- | ----------------------------------------------- |
| 节省成本   | 一台主机替代多台设备，降低硬件、电力、空间成本  |
| 集中管理   | 所有服务集中管理，方便维护与升级                |
| 灵活扩展   | 可随时新增服务，不影响现有系统                  |
| 高可用性   | 支持快照、迁移、备份，保障数据安全              |
| 学习价值高 | 是学习虚拟化、网络、系统管理、DevOps 的理想平台 |
